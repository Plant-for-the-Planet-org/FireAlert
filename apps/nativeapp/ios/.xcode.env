# This `.xcode.env` file is versioned and is used to source the environment
# used when running script phases inside Xcode.
# To customize your local environment, you can create an `.xcode.env.local`
# file that is not versioned.

# NODE_BINARY variable contains the PATH to the node executable.
#
# For fnm users, use stable path instead of dynamic shell-specific paths
if command -v fnm >/dev/null 2>&1; then
  FNM_DIR="${HOME}/.local/share/fnm"
  FNM_NODE_VERSION=$(fnm current)
  FNM_NODE_PATH="${FNM_DIR}/node-versions/${FNM_NODE_VERSION}/installation/bin"
  export NODE_BINARY="${FNM_NODE_PATH}/node"
  export PATH="${FNM_NODE_PATH}:$PATH:/usr/local/bin:/opt/homebrew/bin"
else
  # Fallback for other Node.js installations
  export NODE_BINARY=$(command -v node)
fi
